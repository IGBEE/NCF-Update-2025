(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;a=window;b=a.NCF=a.NCF||{};c=b.BPP=b.BPP||{};d=c.Client=c.Client||{};e=a.WebSharper;f=e&&e.UI;g=f&&f.Next;h=g&&g.Doc;i=a.IntelliFactory;j=i&&i.Runtime;k=e&&e.Utils;l=e&&e.Concurrency;m=e&&e.Remoting;n=m&&m.AjaxRemotingProvider;o=e&&e.Strings;d.Main=function(){return h.Element("div",[],[]);};d.init=function(p){a.jQuery("[data-reportId]").each(d.f);};d.f=function(p,q){var r,s;r=q.getAttribute("data-groupId");s=q.getAttribute("data-reportId");q.textContent=(((j.Curried3(function(t,u,v){return t(k.toSafe(u)+" - "+k.toSafe(v));}))(a.id))(r))(s);};d.reportClicked=function(p,q){var r;l.Start((r=null,l.Delay(function(){var s,t,u,v;s=p.parentElement;t=s.getAttribute("data-groupId");u=s.getAttribute("data-reportId");v=s.getAttribute("data-embedUrl");a.jQuery("*").css("cursor","progress");return l.Bind(d.getEmbedToken(t,u),function(w){a.jQuery("*").css("cursor","default");return w.$==1?(a.alert(w.$0),l.Zero()):(d.openReport(p.textContent,v,u,w.$0),l.Zero());});})),null);};d.getEmbedToken=function(p,q){var r;r=null;return l.Delay(function(){return(new n.New()).Async("NCF.BPP:NCF.BPP.Server.getEmbedTokenAsync:-483179291",[p,q]);});};d.openReport=function(p,q,r,s){var t;t=o.Replace(o.Replace(o.Replace(o.Replace(a.jQuery("#embedReportHtml").text(),"${{rplcTitle}}","NCF.BPP - "+p),"${{rplcEmbedToken}}",s),"${{rplcEmbedUrl}}",q),"${{rplcReportId}}",r);a.open().document.write(t);};d.sleep=function(p){a.setTimeout(a.ignore,p);};}());
