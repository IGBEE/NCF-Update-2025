<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style type="text/css">
        html, body {
            height: 100%;
            margin: 0;
        }

        #reportContainer {
            height: 100%; 
        }
    </style>
    <script src="https://npmcdn.com/es6-promise@3.2.1"></script>
    <script src="${Root}/scripts/powerbi.js"></script>
</head>
<body>
    <div id="reportContainer"></div>
    <script>
        function init(title, embed_config) {
            function _clone(cfg) {
                for (var k in cfg) {
                    if (typeof(cfg[k]) === 'object') 
                        this[k] = new _clone(cfg[k]);
                    else
                        this[k] = cfg[k];
                }
            };

            //debugger;
            //var config = new configConstructor(embed_config);
            try {
                var config = new _clone(embed_config);
                var reportContainer = document.getElementById('reportContainer');
                var reportFrame = powerbi.embed(reportContainer, config);
                reportFrame.fullscreen();
                document.title = title;
            }
            catch (err) {
                alert("Error: " + err);
            }
        }
        var pageInit = this.init;
    </script>
</body>
</html>
